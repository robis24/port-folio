<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      @import url('https://fonts.googleapis.com/css?family=Work+Sans:400,800');

      html, body {
        font-family: 'Work Sans', sans-serif;

        display:table;
        width:100%;
        padding:0;
        margin:0;
      }
      ul {
        margin:0;
        list-style: none;
      }
      ul a{
        text-decoration: none;
        color: yellow;
      }
      ul a:hover{
        color: gray;
      }
      h1{
        text-transform: uppercase;
      }
      .post-image{
        width: 70vw;
        height: 70vw;
        background-size: cover;
      }
      .main{
        overflow: hidden;
        display: table;
      }
      .blackflip{
        color: white;
        z-index: -2000;
        position: fixed;
        width: 100%;
        height: 600%;
        background-color: black;

      }
      .frontflip{
        padding: 3em;
        background-color: white;
        position: relative;
        height: 100%;
        width: 100vw;
        transition: margin-left 3s cubic-bezier(0.29,-0.71, 0, 1.69);

      }
      .flip{
        margin-left: -100vw;

      }
      .back{
        padding: 3em;

        position: absolute;
        color: white;
      }
      .back-wrapper{
        transition: margin-left 3s cubic-bezier(0.29,-0.71, 0, 1.69);
        overflow: hidden;
        width:100vw;
      }
      .flip .frontflip{
        margin-left: 100vw;

      }
    </style>
  </head>
  <body>

    <div class="main">
          <div class="back">

            <nav class="cms" data-cms="tags/menu">
              <ul>

              </ul>
            </nav>
            <div class="cms" data-cms="tags/posts">

            </div>
          </div>
      <div class="blackflip">
      </div>
      <div class="back-wrapper">
        <div class="frontflip">
        <nav class="cms" data-cms="tags/menu">
          <ul>

          </ul>
        </nav>
        <div class="cms" data-cms="tags/posts">

        </div>
        </div>
    </div>
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>



  <script type="text/javascript">
  $('.back, .frontflip').click(function(){
    $('.back-wrapper').toggleClass('flip')
   //$('.blackflip').css('transform', 'translateX(100vw)')
  })

// $('.frontflip').click(function(){
//   $('.frontflip').toggleClass('flip')
//  //$('.blackflip').css('transform', 'translateX(100vw)')
// })






    $(document).ready(function() {


    });
      function loading() {
        $('.cms').each(function() {
            let prefix = 'https://raw.githubusercontent.com/robis24/port-folio/master/';
            var tagName = $(this).data('cms');
            var jsonUri =  prefix + tagName + '.json?cb=' + (new Date().getTime());
            var elem = $(this);
             $.ajax({url:jsonUri, dataType:'json'}).done(
               function(data) {
                 tagName === 'tags/menu' ?
                 data.menu.map(function(item) {
                    elem.find('ul').append('<li><a href=#'+item+'>'+item+'</a></li>');
                 })
                 :
                 data.posts.map(function(item) {
                   elem.append('<article><h1>'+item.title+'</h1>'+item.cat+'<div class="post-image" style="background-image:url('+item.img+')"></div><p>'+item.content+'</p></article>')
                 })
                // console.log(data.menu);
               }
             )
             .error( function(data) {
               console.log('eroor', data);
             })

        });
      }
         loading()

  </script>
</html>
